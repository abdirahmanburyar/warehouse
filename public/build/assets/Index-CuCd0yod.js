import{_ as te,l as se,r as m,h as le,s as oe,W as b,f as n,o as i,a as u,b as e,u as re,m as ae,i as H,g,p as ne,e as x,F as A,q as j,t as v,w as I,d as W,x as ie,B as ue,C as X}from"./app-lBFWFbO3.js";import{_ as R}from"./Modal-B7Ry9LA4.js";import{_ as y}from"./InputLabel-H8ZK7EIA.js";import{_ as D}from"./TextInput-BP2iDJ_P.js";import{_ as de}from"./SelectInput-D0UO4_8K.js";import{_ as ce}from"./Pagination-B1ZOkbJe.js";import{_ as M}from"./SortIcon-DegmTfiJ.js";const ve={class:""},me={class:"bg-white overflow-hidden sm:rounded-lg"},pe={class:"p-6 bg-white border-b border-gray-200"},ge={class:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4"},fe={class:"w-full md:w-1/3 relative"},xe={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},we={class:"overflow-x-auto bg-white rounded-lg"},be={class:"min-w-full divide-y divide-gray-200"},ye={class:"bg-gray-50"},he={class:"flex items-center"},_e={class:"flex items-center"},ke={class:"flex items-center"},Ce={class:"flex items-center"},Me={class:"flex items-center"},Se={class:"bg-white divide-y divide-gray-200"},ze={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Ve={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-700"},Ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-700"},Be={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-700"},Ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-700"},je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-700"},De={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},$e={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},Fe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium flex space-x-2"},Le=["onClick"],Ee=["onClick"],Ie=["onClick"],Re={key:0},Ne={class:"mt-6 flex justify-center"},Pe={class:"p-6"},Te={class:"flex items-center justify-between mb-4"},qe={class:"text-xl font-semibold text-gray-900"},He=["disabled"],We={class:"mt-4"},Xe={key:0,class:"mb-4 p-4 bg-red-50 border-l-4 border-red-500 rounded-md"},Ge={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Oe={class:"relative"},Je=["disabled"],Ke={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},Qe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},Ye={key:0,class:"text-sm text-gray-500 mt-1 block"},Ze=["disabled"],et=["value"],tt={class:"flex items-center justify-end pt-4 border-t border-gray-200"},st=["disabled"],lt=["disabled"],ot={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},rt={class:"p-6"},at={class:"flex items-center justify-between mb-4"},nt=["disabled"],it={class:"mt-4"},ut={key:0,class:"mb-4 p-4 bg-red-50 border-l-4 border-red-500 rounded-md"},dt={class:"grid grid-cols-1 gap-4"},ct={key:0,class:"text-red-500 text-sm mt-1"},vt={class:"flex items-center justify-end pt-4 border-t border-gray-200"},mt=["disabled"],pt=["disabled"],gt={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ft={class:"p-6"},xt={class:"flex items-center justify-between mb-4"},wt=["disabled"],bt={class:"flex justify-end space-x-3"},yt=["disabled"],ht=["disabled"],_t={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},kt={__name:"Index",props:{users:Object,roles:Array,warehouses:Array,filters:Object},setup(S){var P,T,q;const h=S,_=se(),$=m(!1),F=m(!1),L=m(!1),a=m(!1),o=m(!1),f=m(null),p=m(((P=h.filters)==null?void 0:P.search)||""),z=m(!1),d=m(((T=h.filters)==null?void 0:T.sort_direction)||"desc"),c=m(((q=h.filters)==null?void 0:q.sort_field)||"created_at"),r=m({id:null,name:"",username:"",email:"",password:"",warehouse_id:""}),k=m({id:null,roles:[]}),G=le(()=>h.roles.map(l=>({id:l.id,name:l.name})));oe([()=>p.value,()=>c.value,()=>d.value],()=>O());function O(){const l=window.location.pathname,t={};p.value&&(t.search=p.value),c.value&&(t.sort_field=c.value),d.value&&(t.sort_direction=d.value),l.includes("settings")?b.visit(route("settings.index",{tab:"users",...t}),{preserveState:!0,preserveScroll:!0,replace:!0,only:["users","filters"]}):b.visit(route("users.index",t),{preserveState:!0,preserveScroll:!0,replace:!0,only:["users","filters"]})}function C(l){c.value=l,d.value=d.value==="asc"?"desc":"asc";const t=window.location.pathname,s={};p.value&&(s.search=p.value),c.value&&(s.sort_field=c.value),d.value&&(s.sort_direction=d.value),t.includes("settings")?b.visit(route("settings.index",{tab:"users",...s}),{preserveState:!0,preserveScroll:!0,replace:!0,only:["users","filters"]}):b.visit(route("users.index",s),{preserveState:!0,preserveScroll:!0,replace:!0,only:["users","filters"]})}const N=(l=null)=>{console.log(l),l?(r.value.id=l.id,r.value.name=l.name,r.value.username=l.username,r.value.email=l.email,r.value.password="",r.value.warehouse_id=l.warehouse_id):(r.value.id=null,r.value.name="",r.value.username="",r.value.email="",r.value.password="",r.value.warehouse_id=""),$.value=!0},V=()=>{$.value=!1},E=l=>{if(V(),_.success(l),window.location.href.includes("settings")){const s={};p.value&&(s.search=p.value),c.value&&(s.sort_field=c.value),d.value&&(s.sort_direction=d.value),b.visit(route("settings.index",{tab:"users",...s}),{preserveState:!0,preserveScroll:!0,replace:!0,only:["users","filters"]})}else{const s={};p.value&&(s.search=p.value),c.value&&(s.sort_field=c.value),d.value&&(s.sort_direction=d.value),b.visit(route("users.index",s),{preserveState:!0,preserveScroll:!0,replace:!0,only:["users","filters"]})}a.value=!1,o.value=!1},J=async()=>{a.value=!0,o.value=!0;const t=window.location.href.includes("settings")?{"X-From-Settings":"true"}:{};await ue.post(route("users.store"),r.value,{headers:t}).then(s=>{E(s.data)}).catch(s=>{_.error(s.response.data),console.log(s),a.value=!1,o.value=!1})},K=l=>{f.value=null,l&&typeof l=="object"?(k.value={id:l.id,roles:l.roles&&Array.isArray(l.roles)?l.roles.map(t=>t.id):[]},F.value=!0):_.error("Invalid user data")},U=()=>{F.value=!1},Q=()=>{a.value=!0,o.value=!0;const l=window.location.href.includes("settings");X({roles:k.value.roles,_headers:l?{"X-From-Settings":"true"}:{}}).post(route("users.roles.assign",k.value.id),{preserveScroll:!0,onSuccess:()=>{U(),E("Roles updated successfully")},onError:s=>{_.error("Please correct the errors in the form"),a.value=!1,o.value=!1}})},Y=l=>{userToDelete.value=l,L.value=!0,o.value=!1},B=()=>{L.value=!1,userToDelete.value=null},Z=()=>{if(!userToDelete.value)return;a.value=!0,o.value=!0;const l=window.location.href.includes("settings");X({_headers:l?{"X-From-Settings":"true"}:{}}).delete(route("users.destroy",userToDelete.value.id),{preserveScroll:!0,onSuccess:()=>{B(),E("User deleted successfully")},onError:s=>{_.error(s.error||"An error occurred while deleting the user"),a.value=!1,o.value=!1}})},ee=l=>l?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return(l,t)=>(i(),n("div",null,[u(re(ae),{title:"User Management"}),e("div",ve,[e("div",me,[e("div",pe,[e("div",ge,[e("div",fe,[t[15]||(t[15]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),H(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),type:"text",placeholder:"Search by name, username or email...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"},null,512),[[ne,p.value]]),a.value?(i(),n("div",xe,t[14]||(t[14]=[e("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):g("",!0)]),e("button",{onClick:t[1]||(t[1]=s=>N()),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-150 flex items-center justify-center shadow-sm"},t[16]||(t[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 01-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),x(" Add New ")]))]),e("div",we,[e("table",be,[e("thead",ye,[e("tr",null,[e("th",{class:"group px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition",onClick:t[2]||(t[2]=s=>C("id"))},[e("div",he,[t[17]||(t[17]=e("span",null,"ID",-1)),u(M,{field:"id","current-sort":c.value,direction:d.value},null,8,["current-sort","direction"])])]),e("th",{class:"group px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition",onClick:t[3]||(t[3]=s=>C("name"))},[e("div",_e,[t[18]||(t[18]=e("span",null,"Name",-1)),u(M,{field:"name","current-sort":c.value,direction:d.value},null,8,["current-sort","direction"])])]),e("th",{class:"group px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition",onClick:t[4]||(t[4]=s=>C("username"))},[e("div",ke,[t[19]||(t[19]=e("span",null,"Username",-1)),u(M,{field:"username","current-sort":c.value,direction:d.value},null,8,["current-sort","direction"])])]),e("th",{class:"group px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition",onClick:t[5]||(t[5]=s=>C("email"))},[e("div",Ce,[t[20]||(t[20]=e("span",null,"Email",-1)),u(M,{field:"email","current-sort":c.value,direction:d.value},null,8,["current-sort","direction"])])]),e("th",{class:"group px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition",onClick:t[6]||(t[6]=s=>C("created_at"))},[e("div",Me,[t[21]||(t[21]=e("span",null,"Created",-1)),u(M,{field:"created_at","current-sort":c.value,direction:d.value},null,8,["current-sort","direction"])])]),t[22]||(t[22]=e("th",{class:"group px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition"},[e("div",{class:"flex items-center"},[e("span",null,"Warehouse")])],-1)),t[23]||(t[23]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions",-1))])]),e("tbody",Se,[(i(!0),n(A,null,j(S.users.data,s=>(i(),n("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors"},[e("td",ze,v(s.id),1),e("td",Ve,v(s.name),1),e("td",Ue,v(s.username),1),e("td",Be,v(s.email),1),e("td",Ae,v(ee(s.created_at)),1),e("td",je,[s.warehouse?(i(),n("span",De,v(s.warehouse.name),1)):(i(),n("span",$e," Global "))]),e("td",Fe,[e("button",{onClick:w=>K(s),class:"text-indigo-600 hover:text-indigo-900 bg-indigo-100 hover:bg-indigo-200 px-3 py-1 rounded-md transition-colors flex items-center"},t[24]||(t[24]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})],-1),x(" Roles ")]),8,Le),e("button",{onClick:w=>N(s),class:"text-blue-600 hover:text-blue-900 bg-blue-100 hover:bg-blue-200 px-3 py-1 rounded-md transition-colors flex items-center"},t[25]||(t[25]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1),x(" Edit ")]),8,Ee),e("button",{onClick:w=>Y(s),class:"text-red-600 hover:text-red-900 bg-red-100 hover:bg-red-200 px-3 py-1 rounded-md transition-colors flex items-center"},t[26]||(t[26]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0111 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),x(" Delete ")]),8,Ie)])]))),128)),S.users.data.length===0?(i(),n("tr",Re,t[27]||(t[27]=[e("td",{colspan:"7",class:"px-6 py-10 text-center text-gray-500 bg-gray-50"},[e("div",{class:"flex flex-col items-center justify-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 text-gray-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),e("span",{class:"text-lg font-medium"},"No users found"),e("p",{class:"text-sm mt-1"},"Try adjusting your search criteria")])],-1)]))):g("",!0)])])]),e("div",Ne,[u(ce,{links:S.users.meta.links},null,8,["links"])])])])]),u(R,{show:$.value,onClose:V},{default:I(()=>[e("div",Pe,[e("div",Te,[e("h2",qe,v(r.value.id?"Edit User":"Create New User"),1),e("button",{onClick:V,class:"text-gray-400 hover:text-gray-500 focus:outline-none",disabled:o.value||a.value},t[28]||(t[28]=[e("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,He)]),e("div",We,[f.value?(i(),n("div",Xe,[(i(!0),n(A,null,j(f.value,(s,w)=>(i(),n("div",{key:w,class:"text-red-700 text-sm flex items-start mb-1 last:mb-0"},[t[29]||(t[29]=e("svg",{class:"h-4 w-4 mr-1 mt-0.5 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),e("span",null,v(s),1)]))),128))])):g("",!0),e("form",{onSubmit:W(J,["prevent"]),class:"space-y-6"},[e("div",Ge,[e("div",null,[u(y,{for:"name",value:"Name"}),u(D,{id:"name",type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition",modelValue:r.value.name,"onUpdate:modelValue":t[7]||(t[7]=s=>r.value.name=s),required:"",disabled:o.value||a.value,placeholder:"Enter full name"},null,8,["modelValue","disabled"])]),e("div",null,[u(y,{for:"username",value:"Username"}),u(D,{id:"username",type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition",modelValue:r.value.username,"onUpdate:modelValue":t[8]||(t[8]=s=>r.value.username=s),required:"",disabled:o.value||a.value,placeholder:"Enter username"},null,8,["modelValue","disabled"])])]),e("div",null,[u(y,{for:"email",value:"Email"}),u(D,{id:"email",type:"email",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition",modelValue:r.value.email,"onUpdate:modelValue":t[9]||(t[9]=s=>r.value.email=s),required:"",disabled:o.value||a.value,placeholder:"Enter email address"},null,8,["modelValue","disabled"])]),e("div",null,[u(y,{for:"password",value:"Password",required:!r.value.id},null,8,["required"]),e("div",Oe,[u(D,{id:"password",type:z.value?"text":"password",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition",modelValue:r.value.password,"onUpdate:modelValue":t[10]||(t[10]=s=>r.value.password=s),required:!r.value.id,disabled:o.value||a.value,placeholder:"Enter password"},null,8,["type","modelValue","required","disabled"]),e("button",{type:"button",class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 focus:outline-none",onClick:t[11]||(t[11]=s=>z.value=!z.value),disabled:o.value||a.value},[z.value?(i(),n("svg",Ke,t[30]||(t[30]=[e("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"},null,-1),e("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"},null,-1)]))):(i(),n("svg",Qe,t[31]||(t[31]=[e("path",{"fill-rule":"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z","clip-rule":"evenodd"},null,-1),e("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"},null,-1)])))],8,Je)]),r.value.id?(i(),n("span",Ye,"Leave blank to keep current password")):g("",!0)]),e("div",null,[u(y,{for:"warehouse_id",value:"Warehouse"}),H(e("select",{id:"warehouse_id","onUpdate:modelValue":t[12]||(t[12]=s=>r.value.warehouse_id=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition",disabled:o.value||a.value},[t[32]||(t[32]=e("option",{value:""},"No Warehouse (Global User)",-1)),(i(!0),n(A,null,j(h.warehouses,s=>(i(),n("option",{key:s.id,value:s.id},v(s.name),9,et))),128))],8,Ze),[[ie,r.value.warehouse_id]]),t[33]||(t[33]=e("span",{class:"text-sm text-gray-500 mt-1 block"},"Assign user to a specific warehouse or leave empty for global access",-1))]),e("div",tt,[e("button",{type:"button",class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition mr-2 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50 disabled:opacity-50",onClick:V,disabled:o.value||a.value}," Cancel ",8,st),e("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 disabled:opacity-75 flex items-center",disabled:a.value||o.value},[o.value?(i(),n("svg",ot,t[34]||(t[34]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):g("",!0),x(" "+v(r.value.id?o.value?"Updating...":"Update User":o.value?"Creating...":"Create User"),1)],8,lt)])],32)])])]),_:1},8,["show"]),u(R,{show:F.value,onClose:U},{default:I(()=>[e("div",rt,[e("div",at,[t[36]||(t[36]=e("h2",{class:"text-xl font-semibold text-gray-900"},"Manage User Roles",-1)),e("button",{onClick:U,class:"text-gray-400 hover:text-gray-500 focus:outline-none",disabled:o.value||a.value},t[35]||(t[35]=[e("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,nt)]),e("div",it,[f.value?(i(),n("div",ut,[(i(!0),n(A,null,j(f.value,(s,w)=>(i(),n("div",{key:w,class:"text-red-700 text-sm flex items-start mb-1 last:mb-0"},[t[37]||(t[37]=e("svg",{class:"h-4 w-4 mr-1 mt-0.5 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),e("span",null,v(s),1)]))),128))])):g("",!0),e("form",{onSubmit:W(Q,["prevent"]),class:"space-y-6"},[e("div",dt,[e("div",null,[u(y,{for:"roles",value:"Assign Roles"}),t[38]||(t[38]=e("p",{class:"text-sm text-gray-500 mb-2"},"Select the roles you want to assign to this user",-1)),u(de,{id:"roles",modelValue:k.value.roles,"onUpdate:modelValue":t[13]||(t[13]=s=>k.value.roles=s),options:G.value,multiple:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition"},null,8,["modelValue","options"]),f.value&&f.value.roles?(i(),n("div",ct,v(f.value.roles),1)):g("",!0)])]),e("div",vt,[e("button",{type:"button",class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition mr-2 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50 disabled:opacity-50",onClick:U,disabled:o.value||a.value}," Cancel ",8,mt),e("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 disabled:opacity-75 flex items-center",disabled:a.value||o.value},[o.value?(i(),n("svg",gt,t[39]||(t[39]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):g("",!0),x(" "+v(o.value?"Saving Roles...":"Save Roles"),1)],8,pt)])],32)])])]),_:1},8,["show"]),u(R,{show:L.value,onClose:B},{default:I(()=>[e("div",ft,[e("div",xt,[t[41]||(t[41]=e("h2",{class:"text-xl font-semibold text-gray-900"},"Delete User",-1)),e("button",{onClick:B,class:"text-gray-400 hover:text-gray-500 focus:outline-none",disabled:o.value||a.value},t[40]||(t[40]=[e("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,wt)]),t[43]||(t[43]=e("div",{class:"bg-red-50 p-4 rounded-md mb-6"},[e("div",{class:"flex"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])]),e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-red-800"},"Warning"),e("div",{class:"mt-2 text-sm text-red-700"},[e("p",null,"Are you sure you want to delete this user? This action cannot be undone.")])])])],-1)),e("div",bt,[e("button",{type:"button",class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50 disabled:opacity-50",onClick:B,disabled:o.value||a.value}," Cancel ",8,yt),e("button",{onClick:Z,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 disabled:opacity-75 flex items-center",disabled:a.value||o.value},[o.value?(i(),n("svg",_t,t[42]||(t[42]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):g("",!0),x(" "+v(o.value?"Deleting...":"Delete User"),1)],8,ht)])])]),_:1},8,["show"])]))}},At=te(kt,[["__scopeId","data-v-ea10f9b4"]]);export{At as default};
