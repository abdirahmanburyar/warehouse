import{r as w,h as B,y as M,I as O,f as s,o as n,g as m,b as o,i as b,F as v,q as p,e as k,t as d,p as $,M as N,n as V,d as z}from"./app-lBFWFbO3.js";const q={class:"relative"},D={key:0,class:"w-full border border-gray-300 rounded-md shadow-sm focus-within:border-indigo-500 focus-within:ring focus-within:ring-indigo-200 focus-within:ring-opacity-50"},E={class:"flex flex-wrap p-2 gap-1"},F=["onClick"],T={class:"flex-grow flex items-center"},I=["placeholder"],U={class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto"},j={class:"sticky top-0 bg-white border-b border-gray-200 p-2"},G={class:"flex justify-between items-center"},H={class:"text-sm font-medium text-gray-700"},J={key:0,class:"p-2 text-gray-500 text-sm"},K={class:"p-1"},P=["onClick"],Q=["checked","onChange"],R=["value"],W={key:0,value:"",disabled:""},X=["value"],Y={key:2,class:"text-red-500 text-xs mt-1"},ee={__name:"SelectInput",props:{modelValue:{type:[String,Number,Array],required:!0},options:{type:Array,required:!0},placeholder:{type:String,default:"Select an option"},multiple:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["update:modelValue"],setup(r,{emit:C}){const i=r,u=C,c=w(""),a=w(!1),g=B(()=>c.value?i.options.filter(l=>l.name.toLowerCase().includes(c.value.toLowerCase())):i.options),h=l=>i.modelValue.includes(l),f=l=>{const e=[...i.modelValue],t=e.indexOf(l);t===-1?e.push(l):e.splice(t,1),u("update:modelValue",e)},L=l=>{const e=i.modelValue.filter(t=>t!==l);u("update:modelValue",e)},S=l=>{const e=i.options.find(t=>t.id===l);return(e==null?void 0:e.name)??""},_=()=>{const l=g.value.map(e=>e.id);u("update:modelValue",l)},A=()=>{u("update:modelValue",[])},x=l=>{l.target.closest(".relative")||(a.value=!1)};return M(()=>{document.addEventListener("click",x)}),O(()=>{document.removeEventListener("click",x)}),(l,e)=>(n(),s("div",q,[r.multiple?(n(),s("div",D,[o("div",E,[(n(!0),s(v,null,p(r.modelValue,t=>(n(),s("div",{key:t,class:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded-md flex items-center text-sm"},[k(d(S(t))+" ",1),o("button",{onClick:y=>L(t),type:"button",class:"ml-1 text-indigo-500 hover:text-indigo-700"},e[5]||(e[5]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),8,F)]))),128)),o("div",T,[b(o("input",{type:"text",class:"w-full outline-none border-none focus:ring-0 p-1 text-sm",placeholder:r.modelValue.length?"Add more...":"Select options...","onUpdate:modelValue":e[0]||(e[0]=t=>c.value=t),onFocus:e[1]||(e[1]=t=>a.value=!0)},null,40,I),[[$,c.value]]),o("button",{onClick:e[2]||(e[2]=t=>a.value=!a.value),type:"button",class:"p-1 text-gray-400 hover:text-gray-600"},e[6]||(e[6]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]))])]),b(o("div",U,[o("div",j,[o("div",G,[o("span",H,d(g.value.length)+" options",1),o("div",{class:"flex space-x-2"},[o("button",{onClick:_,type:"button",class:"text-xs px-2 py-1 bg-indigo-50 text-indigo-700 rounded hover:bg-indigo-100"}," Select All "),o("button",{onClick:A,type:"button",class:"text-xs px-2 py-1 bg-gray-50 text-gray-700 rounded hover:bg-gray-100"}," Clear All ")])])]),g.value.length===0?(n(),s("div",J,"No options found")):m("",!0),o("div",K,[(n(!0),s(v,null,p(g.value,t=>(n(),s("div",{key:t.id,onClick:y=>f(t.id),class:V(["p-2 hover:bg-gray-100 cursor-pointer flex items-center text-sm rounded",{"bg-gray-50":h(t.id)}])},[o("input",{type:"checkbox",checked:h(t.id),class:"mr-2 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",onClick:e[3]||(e[3]=z(()=>{},["stop"])),onChange:y=>f(t.id)},null,40,Q),k(" "+d(t.name),1)],10,P))),128))])],512),[[N,a.value]])])):(n(),s("select",{key:1,value:r.modelValue,onInput:e[4]||(e[4]=t=>l.$emit("update:modelValue",t.target.value)),class:V(["border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm w-full",{"border-red-500":r.error}])},[r.placeholder?(n(),s("option",W,d(r.placeholder),1)):m("",!0),(n(!0),s(v,null,p(r.options,t=>(n(),s("option",{key:t.id,value:t.id},d(t.name),9,X))),128))],42,R)),r.error?(n(),s("p",Y,d(r.error),1)):m("",!0)]))}};export{ee as _};
