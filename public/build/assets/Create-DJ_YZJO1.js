import{C as V,h as d,f as x,o as h,a as l,u as s,m as k,w as m,b as o,d as q,n as S,e as f,P as U,F as A}from"./app-lBFWFbO3.js";import{A as N}from"./AuthenticatedLayout-BAQR-N2z.js";import{_ as u}from"./InputLabel-H8ZK7EIA.js";import{_ as n}from"./TextInput-BP2iDJ_P.js";import{_ as P}from"./TextareaInput-D_CKKb59.js";import{_ as c}from"./SelectInput-D0UO4_8K.js";import{_ as r}from"./InputError-BLGuqF9p.js";import{P as B}from"./PrimaryButton-B4gQPJ4i.js";const F={class:"flex justify-between items-center"},$={class:"py-12"},C={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},D={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},O={class:"p-6 bg-white border-b border-gray-200"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},T={class:"mt-6"},j={class:"flex items-center justify-end mt-6"},J={__name:"Create",props:{products:Array,warehouses:Array,suppliers:Array},setup(_){const p=_,e=V({product_id:"",warehouse_id:"",supplier_id:"",quantity:"",unit_price:"",supply_date:new Date().toISOString().substr(0,10),invoice_number:"",batch_number:"",manufacturing_date:"",expiry_date:"",notes:""}),g=d(()=>p.products.map(i=>({value:i.id,label:i.name}))),b=d(()=>p.warehouses.map(i=>({value:i.id,label:i.name}))),y=d(()=>p.suppliers.map(i=>({value:i.id,label:i.name}))),v=d(()=>e.quantity&&e.unit_price?(parseFloat(e.quantity)*parseFloat(e.unit_price)).toFixed(2):"0.00"),w=()=>{e.post(route("supplies.store"),{onSuccess:()=>{e.reset()}})};return(i,t)=>(h(),x(A,null,[l(s(k),{title:"Add New Supply"}),l(N,null,{header:m(()=>[o("div",F,[t[12]||(t[12]=o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Add New Supply",-1)),l(s(U),{href:i.route("supplies.index"),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:m(()=>t[11]||(t[11]=[f(" Back to Supplies ")])),_:1},8,["href"])])]),default:m(()=>[o("div",$,[o("div",C,[o("div",D,[o("div",O,[o("form",{onSubmit:q(w,["prevent"])},[o("div",E,[o("div",null,[l(u,{for:"product_id",value:"Product"}),l(c,{id:"product_id",modelValue:s(e).product_id,"onUpdate:modelValue":t[0]||(t[0]=a=>s(e).product_id=a),options:g.value,class:"mt-1 block w-full",placeholder:"Select a product",required:""},null,8,["modelValue","options"]),l(r,{message:s(e).errors.product_id,class:"mt-2"},null,8,["message"])]),o("div",null,[l(u,{for:"warehouse_id",value:"Warehouse"}),l(c,{id:"warehouse_id",modelValue:s(e).warehouse_id,"onUpdate:modelValue":t[1]||(t[1]=a=>s(e).warehouse_id=a),options:b.value,class:"mt-1 block w-full",placeholder:"Select a warehouse",required:""},null,8,["modelValue","options"]),l(r,{message:s(e).errors.warehouse_id,class:"mt-2"},null,8,["message"])]),o("div",null,[l(u,{for:"supplier_id",value:"Supplier"}),l(c,{id:"supplier_id",modelValue:s(e).supplier_id,"onUpdate:modelValue":t[2]||(t[2]=a=>s(e).supplier_id=a),options:y.value,class:"mt-1 block w-full",placeholder:"Select a supplier",required:""},null,8,["modelValue","options"]),l(r,{message:s(e).errors.supplier_id,class:"mt-2"},null,8,["message"])]),o("div",null,[l(u,{for:"quantity",value:"Quantity"}),l(n,{id:"quantity",type:"number",modelValue:s(e).quantity,"onUpdate:modelValue":t[3]||(t[3]=a=>s(e).quantity=a),class:"mt-1 block w-full",min:"1",required:""},null,8,["modelValue"]),l(r,{message:s(e).errors.quantity,class:"mt-2"},null,8,["message"])]),o("div",null,[l(u,{for:"unit_price",value:"Unit Price"}),l(n,{id:"unit_price",type:"number",step:"0.01",modelValue:s(e).unit_price,"onUpdate:modelValue":t[4]||(t[4]=a=>s(e).unit_price=a),class:"mt-1 block w-full",min:"0",required:""},null,8,["modelValue"]),l(r,{message:s(e).errors.unit_price,class:"mt-2"},null,8,["message"])]),o("div",null,[l(u,{for:"total_price",value:"Total Price"}),l(n,{id:"total_price",type:"number",step:"0.01",value:v.value,class:"mt-1 block w-full bg-gray-100",readonly:""},null,8,["value"])]),o("div",null,[l(u,{for:"supply_date",value:"Supply Date"}),l(n,{id:"supply_date",type:"date",modelValue:s(e).supply_date,"onUpdate:modelValue":t[5]||(t[5]=a=>s(e).supply_date=a),class:"mt-1 block w-full",required:""},null,8,["modelValue"]),l(r,{message:s(e).errors.supply_date,class:"mt-2"},null,8,["message"])]),o("div",null,[l(u,{for:"invoice_number",value:"Invoice Number"}),l(n,{id:"invoice_number",type:"text",modelValue:s(e).invoice_number,"onUpdate:modelValue":t[6]||(t[6]=a=>s(e).invoice_number=a),class:"mt-1 block w-full"},null,8,["modelValue"]),l(r,{message:s(e).errors.invoice_number,class:"mt-2"},null,8,["message"])]),o("div",null,[l(u,{for:"batch_number",value:"Batch Number"}),l(n,{id:"batch_number",type:"text",modelValue:s(e).batch_number,"onUpdate:modelValue":t[7]||(t[7]=a=>s(e).batch_number=a),class:"mt-1 block w-full"},null,8,["modelValue"]),l(r,{message:s(e).errors.batch_number,class:"mt-2"},null,8,["message"])]),o("div",null,[l(u,{for:"manufacturing_date",value:"Manufacturing Date"}),l(n,{id:"manufacturing_date",type:"date",modelValue:s(e).manufacturing_date,"onUpdate:modelValue":t[8]||(t[8]=a=>s(e).manufacturing_date=a),class:"mt-1 block w-full"},null,8,["modelValue"]),l(r,{message:s(e).errors.manufacturing_date,class:"mt-2"},null,8,["message"])]),o("div",null,[l(u,{for:"expiry_date",value:"Expiry Date"}),l(n,{id:"expiry_date",type:"date",modelValue:s(e).expiry_date,"onUpdate:modelValue":t[9]||(t[9]=a=>s(e).expiry_date=a),class:"mt-1 block w-full",min:s(e).manufacturing_date},null,8,["modelValue","min"]),l(r,{message:s(e).errors.expiry_date,class:"mt-2"},null,8,["message"])])]),o("div",T,[l(u,{for:"notes",value:"Notes"}),l(P,{id:"notes",modelValue:s(e).notes,"onUpdate:modelValue":t[10]||(t[10]=a=>s(e).notes=a),rows:3,class:"mt-1 block w-full",placeholder:"Enter any additional notes"},null,8,["modelValue"]),l(r,{message:s(e).errors.notes,class:"mt-2"},null,8,["message"])]),o("div",j,[l(B,{class:S({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:m(()=>t[13]||(t[13]=[f(" Add Supply ")])),_:1},8,["class","disabled"])])],32)])])])])]),_:1})],64))}};export{J as default};
