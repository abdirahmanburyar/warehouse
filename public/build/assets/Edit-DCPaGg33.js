import{C as x,h as p,f as h,o as k,a as l,u as s,m as q,w as m,b as u,d as U,n as S,e as f,P,F as B}from"./app-lBFWFbO3.js";import{A as N}from"./AuthenticatedLayout-BAQR-N2z.js";import{_ as i}from"./InputLabel-H8ZK7EIA.js";import{_ as d}from"./TextInput-BP2iDJ_P.js";import{_ as A}from"./TextareaInput-D_CKKb59.js";import{_}from"./SelectInput-D0UO4_8K.js";import{_ as n}from"./InputError-BLGuqF9p.js";import{P as D}from"./PrimaryButton-B4gQPJ4i.js";const E={class:"flex justify-between items-center"},F={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},$={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},j={class:"p-6 bg-white border-b border-gray-200"},C={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},T={class:"mt-6"},I={class:"flex items-center justify-end mt-6"},K={__name:"Edit",props:{supply:Object,products:Array,warehouses:Array,suppliers:Array},setup(y){const r=y,c=o=>o?new Date(o).toISOString().substr(0,10):"",e=x({product_id:r.supply.product_id,warehouse_id:r.supply.warehouse_id,supplier_id:r.supply.supplier_id,quantity:r.supply.quantity,unit_price:r.supply.unit_price,supply_date:c(r.supply.supply_date),invoice_number:r.supply.invoice_number||"",batch_number:r.supply.batch_number||"",manufacturing_date:c(r.supply.manufacturing_date),expiry_date:c(r.supply.expiry_date),notes:r.supply.notes||""}),b=p(()=>r.products.map(o=>({value:o.id,label:o.name}))),g=p(()=>r.warehouses.map(o=>({value:o.id,label:o.name}))),v=p(()=>r.suppliers.map(o=>({value:o.id,label:o.name}))),V=p(()=>e.quantity&&e.unit_price?(parseFloat(e.quantity)*parseFloat(e.unit_price)).toFixed(2):"0.00"),w=()=>{e.put(route("supplies.update",r.supply.id),{preserveScroll:!0})};return(o,t)=>(k(),h(B,null,[l(s(q),{title:"Edit Supply"}),l(N,null,{header:m(()=>[u("div",E,[t[12]||(t[12]=u("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Edit Supply",-1)),l(s(P),{href:o.route("supplies.index"),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:m(()=>t[11]||(t[11]=[f(" Back to Supplies ")])),_:1},8,["href"])])]),default:m(()=>[u("div",F,[u("div",O,[u("div",$,[u("div",j,[u("form",{onSubmit:U(w,["prevent"])},[u("div",C,[u("div",null,[l(i,{for:"product_id",value:"Product"}),l(_,{id:"product_id",modelValue:s(e).product_id,"onUpdate:modelValue":t[0]||(t[0]=a=>s(e).product_id=a),options:b.value,class:"mt-1 block w-full",placeholder:"Select a product",required:""},null,8,["modelValue","options"]),l(n,{message:s(e).errors.product_id,class:"mt-2"},null,8,["message"])]),u("div",null,[l(i,{for:"warehouse_id",value:"Warehouse"}),l(_,{id:"warehouse_id",modelValue:s(e).warehouse_id,"onUpdate:modelValue":t[1]||(t[1]=a=>s(e).warehouse_id=a),options:g.value,class:"mt-1 block w-full",placeholder:"Select a warehouse",required:""},null,8,["modelValue","options"]),l(n,{message:s(e).errors.warehouse_id,class:"mt-2"},null,8,["message"])]),u("div",null,[l(i,{for:"supplier_id",value:"Supplier"}),l(_,{id:"supplier_id",modelValue:s(e).supplier_id,"onUpdate:modelValue":t[2]||(t[2]=a=>s(e).supplier_id=a),options:v.value,class:"mt-1 block w-full",placeholder:"Select a supplier",required:""},null,8,["modelValue","options"]),l(n,{message:s(e).errors.supplier_id,class:"mt-2"},null,8,["message"])]),u("div",null,[l(i,{for:"quantity",value:"Quantity"}),l(d,{id:"quantity",type:"number",modelValue:s(e).quantity,"onUpdate:modelValue":t[3]||(t[3]=a=>s(e).quantity=a),class:"mt-1 block w-full",min:"1",required:""},null,8,["modelValue"]),l(n,{message:s(e).errors.quantity,class:"mt-2"},null,8,["message"])]),u("div",null,[l(i,{for:"unit_price",value:"Unit Price"}),l(d,{id:"unit_price",type:"number",step:"0.01",modelValue:s(e).unit_price,"onUpdate:modelValue":t[4]||(t[4]=a=>s(e).unit_price=a),class:"mt-1 block w-full",min:"0",required:""},null,8,["modelValue"]),l(n,{message:s(e).errors.unit_price,class:"mt-2"},null,8,["message"])]),u("div",null,[l(i,{for:"total_price",value:"Total Price"}),l(d,{id:"total_price",type:"number",step:"0.01",value:V.value,class:"mt-1 block w-full bg-gray-100",readonly:""},null,8,["value"])]),u("div",null,[l(i,{for:"supply_date",value:"Supply Date"}),l(d,{id:"supply_date",type:"date",modelValue:s(e).supply_date,"onUpdate:modelValue":t[5]||(t[5]=a=>s(e).supply_date=a),class:"mt-1 block w-full",required:""},null,8,["modelValue"]),l(n,{message:s(e).errors.supply_date,class:"mt-2"},null,8,["message"])]),u("div",null,[l(i,{for:"invoice_number",value:"Invoice Number"}),l(d,{id:"invoice_number",type:"text",modelValue:s(e).invoice_number,"onUpdate:modelValue":t[6]||(t[6]=a=>s(e).invoice_number=a),class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.invoice_number,class:"mt-2"},null,8,["message"])]),u("div",null,[l(i,{for:"batch_number",value:"Batch Number"}),l(d,{id:"batch_number",type:"text",modelValue:s(e).batch_number,"onUpdate:modelValue":t[7]||(t[7]=a=>s(e).batch_number=a),class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.batch_number,class:"mt-2"},null,8,["message"])]),u("div",null,[l(i,{for:"manufacturing_date",value:"Manufacturing Date"}),l(d,{id:"manufacturing_date",type:"date",modelValue:s(e).manufacturing_date,"onUpdate:modelValue":t[8]||(t[8]=a=>s(e).manufacturing_date=a),class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.manufacturing_date,class:"mt-2"},null,8,["message"])]),u("div",null,[l(i,{for:"expiry_date",value:"Expiry Date"}),l(d,{id:"expiry_date",type:"date",modelValue:s(e).expiry_date,"onUpdate:modelValue":t[9]||(t[9]=a=>s(e).expiry_date=a),class:"mt-1 block w-full",min:s(e).manufacturing_date},null,8,["modelValue","min"]),l(n,{message:s(e).errors.expiry_date,class:"mt-2"},null,8,["message"])])]),u("div",T,[l(i,{for:"notes",value:"Notes"}),l(A,{id:"notes",modelValue:s(e).notes,"onUpdate:modelValue":t[10]||(t[10]=a=>s(e).notes=a),rows:3,class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.notes,class:"mt-2"},null,8,["message"])]),u("div",I,[l(D,{class:S({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:m(()=>t[13]||(t[13]=[f(" Update Supply ")])),_:1},8,["class","disabled"])])],32)])])])])]),_:1})],64))}};export{K as default};
