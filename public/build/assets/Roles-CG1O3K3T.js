import{C as b,r as _,f as o,o as i,a as c,u as d,m as w,w as g,b as s,g as x,t as l,F as f,q as p,d as k,i as A,v as R,P as S,e as v}from"./app-lBFWFbO3.js";import{A as B}from"./AuthenticatedLayout-BAQR-N2z.js";import{P as C}from"./PrimaryButton-B4gQPJ4i.js";import{S as N}from"./sweetalert2.esm.all-B0Dix5B2.js";const $={class:"font-semibold text-xl text-gray-800 leading-tight"},V={class:"py-12"},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},U={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},E={class:"p-6 text-gray-900"},j={key:0,class:"mb-4 p-4 bg-green-100 text-green-700 rounded"},D={key:1,class:"mb-4 p-4 bg-red-100 text-red-700 rounded"},F={class:"mb-6"},L={class:"bg-gray-50 p-4 rounded-lg"},M={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},T={class:"font-medium"},q={class:"font-medium"},I={class:"font-medium"},O={class:"flex flex-wrap gap-1 mt-1"},z={key:0,class:"text-gray-500 italic"},G={class:"bg-gray-50 p-4 rounded-lg"},H={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},J={class:"flex items-center h-5"},K=["id","value"],Q={class:"ml-3 text-sm"},W=["for"],X={class:"text-xs text-gray-500 mt-1"},Y={class:"flex flex-wrap gap-1"},Z={key:0,class:"text-gray-500"},ss={class:"mt-6 flex items-center justify-between"},ls={__name:"Roles",props:{user:Object,roles:Array},setup(r){const h=r,u=b({roles:h.user.roles.map(a=>a.id)}),n=_(!1),y=()=>{n.value=!0,u.post(route("users.roles.assign",h.user.id),{onSuccess:()=>{n.value=!1,N.fire({title:"Roles Assigned!",text:"The roles have been successfully assigned to the user.",icon:"success",confirmButtonColor:"#3085d6"})},onError:()=>{n.value=!1}})};return(a,e)=>(i(),o(f,null,[c(d(w),{title:"Assign Roles"}),c(B,null,{header:g(()=>[s("h2",$,"Assign Roles to "+l(r.user.name),1)]),default:g(()=>[s("div",V,[s("div",P,[s("div",U,[s("div",E,[a.$page.props.flash.success?(i(),o("div",j,l(a.$page.props.flash.success),1)):x("",!0),a.$page.props.flash.error?(i(),o("div",D,l(a.$page.props.flash.error),1)):x("",!0),s("div",F,[e[5]||(e[5]=s("h3",{class:"text-lg font-medium mb-2"},"User Information",-1)),s("div",L,[s("div",M,[s("div",null,[e[1]||(e[1]=s("p",{class:"text-sm text-gray-600"},"Name",-1)),s("p",T,l(r.user.name),1)]),s("div",null,[e[2]||(e[2]=s("p",{class:"text-sm text-gray-600"},"Email",-1)),s("p",q,l(r.user.email),1)]),s("div",null,[e[3]||(e[3]=s("p",{class:"text-sm text-gray-600"},"Username",-1)),s("p",I,l(r.user.username),1)]),s("div",null,[e[4]||(e[4]=s("p",{class:"text-sm text-gray-600"},"Current Roles",-1)),s("div",O,[(i(!0),o(f,null,p(r.user.roles,t=>(i(),o("span",{key:t.id,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800"},l(t.name),1))),128)),r.user.roles.length===0?(i(),o("span",z,"No roles assigned")):x("",!0)])])])])]),s("div",null,[e[7]||(e[7]=s("h3",{class:"text-lg font-medium mb-4"},"Assign Roles",-1)),s("form",{onSubmit:k(y,["prevent"])},[s("div",G,[s("div",H,[(i(!0),o(f,null,p(r.roles,t=>(i(),o("div",{key:t.id,class:"flex items-start"},[s("div",J,[A(s("input",{id:`role-${t.id}`,type:"checkbox",value:t.id,"onUpdate:modelValue":e[0]||(e[0]=m=>d(u).roles=m),class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,8,K),[[R,d(u).roles]])]),s("div",Q,[s("label",{for:`role-${t.id}`,class:"font-medium text-gray-700"},l(t.name),9,W),s("div",X,[s("div",Y,[(i(!0),o(f,null,p(t.permissions.slice(0,3),m=>(i(),o("span",{key:m.id,class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800"},l(m.name),1))),128)),t.permissions.length>3?(i(),o("span",Z," +"+l(t.permissions.length-3)+" more ",1)):x("",!0)])])])]))),128))]),s("div",ss,[c(d(S),{href:a.route("users.index"),class:"text-sm text-gray-600 hover:text-gray-900"},{default:g(()=>e[6]||(e[6]=[v(" Back to Users ")])),_:1},8,["href"]),c(C,{disabled:d(u).processing||n.value},{default:g(()=>[v(l(n.value?"Saving...":"Save Role Assignments"),1)]),_:1},8,["disabled"])])])],32)])])])])])]),_:1})],64))}};export{ls as default};
